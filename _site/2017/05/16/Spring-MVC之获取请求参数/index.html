<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--><!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--><!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--><!--[if gt IE 8]><!--><html class="no-js">
<!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <title>Spring MVC 之获取请求参数 – ATERRO</title> <meta name="description" content="Though usually reliable,I may let one or two important things slip through my fingers for no apparent reason."> <meta name="keywords" content="Spring MVC"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="/assets/img/logo1.png"> <meta name="twitter:title" content="Spring MVC 之获取请求参数"> <meta name="twitter:description" content="Spring MVC匹配请求路径，获取请求的参数。"> <!-- Open Graph --> <meta property="og:locale" content="cn"> <meta property="og:type" content="article"> <meta property="og:title" content="Spring MVC 之获取请求参数"> <meta property="og:description" content="Spring MVC匹配请求路径，获取请求的参数。"> <meta property="og:url" content="/2017/05/16/Spring-MVC%E4%B9%8B%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/"> <meta property="og:site_name" content="ATERRO"> <meta property="og:image" content="/assets/img/logo1.png"> <link rel="canonical" href="/2017/05/16/Spring-MVC%E4%B9%8B%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/"> <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="ATERRO Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="/assets/css/main.css"> <!-- JS --> <script src="/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="/favicon.png"> <link rel="shortcut icon" href="/favicon.ico"> <!-- Background Image --> <style type="text/css">body {background-image:url(/assets/img/placeholder.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="/assets/img/logo1.png" alt="ATERRO photo" class="author-photo"> <h4>ATERRO</h4> <p>Though usually reliable,I may let one or two important things slip through my fingers for no apparent reason.</p> </li> <li><a href="/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:aterro@yeah.net" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="http://facebook.com/meijw.aterro" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a> </li> <li> <a href="http://github.com/meijw" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://www.weibo.com/aterro" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-weibo"></i> Weibo</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="/posts/">All Posts</a></li> <li><a href="/tags/">All Tags</a></li> </ul> </li> <li><a href="/projects/">Projects</a></li> </ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>Spring MVC 之获取请求参数</h1> <h4>16 May 2017</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~1 minute </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <hr> <ul id="markdown-toc"> <li>
<a href="#spring-mvc-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0" id="markdown-toc-spring-mvc-获取请求参数">Spring MVC (获取请求参数)</a> <ul> <li><a href="#%E4%B8%80spring-mvc%E5%A6%82%E4%BD%95%E5%8C%B9%E9%85%8D%E8%AF%B7%E6%B1%82%E8%B7%AF%E5%BE%84" id="markdown-toc-一spring-mvc如何匹配请求路径">一、Spring MVC如何匹配请求路径</a></li> <li>
<a href="#%E4%BA%8Cspring-mvc%E5%A6%82%E4%BD%95%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8F%82%E6%95%B0" id="markdown-toc-二spring-mvc如何获取请求的参数">二、spring mvc如何获取请求的参数</a> <ul> <li><a href="#1-pathvariable" id="markdown-toc-1-pathvariable">1. @PathVariable</a></li> <li><a href="#2-requestparam" id="markdown-toc-2-requestparam">2. @RequestParam</a></li> <li><a href="#3-cookievalue" id="markdown-toc-3-cookievalue">3. @CookieValue</a></li> </ul> </li> </ul> </li> </ul> <hr> <h1 id="spring-mvc-获取请求参数">Spring MVC (获取请求参数)</h1> <h2 id="一spring-mvc如何匹配请求路径">一、Spring MVC如何匹配请求路径</h2> <p><a href="https://github.com/RequestMapping" class="user-mention">@RequestMapping</a>是用来映射请求的，比如get请求，post请求，或者REST风格与非REST风格的。 该注解可以用在类上或者方法上，如果用于类上，表示该类中所有方法的父路径。</p> <p>举例：</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/testRequestMapping"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRequestMapping</span><span class="o">(){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"testRequestMapping"</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> <p>　　注意这里在方法级别上添加了注解<a href="https://github.com/RequestMapping" class="user-mention">@RequestMapping</a>（“/testRequestMapping”）, 表示可以通过“/testRequestMapping”相对路径来定位到这个方法，同时我们在SpringMVCTest类上也放了一个类级别的RequestMapping的注解：</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/springmvc"</span><span class="o">)</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SpringMVCTest</span> <span class="o">{</span>

<span class="o">}</span>
</code></pre></div> <p>　　注意这里还添加了一个<a href="https://github.com/Controller" class="user-mention">@Controller</a>的注解，该注解在SpringMVC中，负责处理由DispatcherServlet分发的请求，它把用户请求的数据经过业务处理层处理之后封装成一个Model，然后再把该Model返回给对应的View进行展示。至此有了一个“springmvc/testRequestMapping”这样的路径，我们就能够定位到testRequestMapping这个方法上，然后执行方法内的方法体。</p> <p>　　再补充一点，RequestMapping可以实现模糊匹配路径，比如：</p> <ul> <li>?：匹配一个字符</li> <li>*：匹配任意字符</li> <li>**：匹配多层路径</li> </ul> <p>　　/springmvc/**/lastTest 就可以匹配/springmvc/firstTest/secondTest/lastTest这样的路径。</p> <h2 id="二spring-mvc如何获取请求的参数">二、spring mvc如何获取请求的参数</h2> <h3 id="1-pathvariable">1. <a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>
</h3> <p>　　该注解用来映射请求URL中绑定的占位符。通过<a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>可以将URL中占位符的参数绑定到controller处理方法的入参中。</p> <p>举例：</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="s">"/testPathVariable/{id}"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testPathVariable</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"id"</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"testPathVariable:"</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> <p>　　在index.jsp中我们添加一条连接，用来触发一个请求：</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"springmvc/testPathVariable/1"</span><span class="nt">&gt;</span>testPathVariable<span class="nt">&lt;/a&gt;</span>
</code></pre></div> <p>　　我们可以看到这里有一个超链接，点击后会进入到<strong>springmvc/testPathVariable/1</strong>对应的controller处理的方法中，那我们现在就是想获取到这个请求参数中的“1”，所以在testPathVariable方法上加入“/testPathVariable/id”,关于{id}的具体对应在该方法的参数中，通过<a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>(value=”id”)来声明要接收的请求参数，并通过Integer id来绑定和接收。通过该种方式，我们就可以得到前台页面请求的参数“1”。</p> <h3 id="2-requestparam">2. <a href="https://github.com/RequestParam" class="user-mention">@RequestParam</a>
</h3> <p>　　该注解也是用来获取请求参数的。那么该注解和<a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>有何不同呢？</p> <p>举例：</p> <p>　　在SpringMVCTest中添加方法</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testRequestParam"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRequestParam</span><span class="o">(</span><span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"username"</span><span class="o">)</span> <span class="n">String</span> <span class="n">username</span><span class="o">,</span> <span class="nd">@RequestParam</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"age"</span><span class="o">,</span> <span class="n">required</span><span class="o">=</span><span class="kc">false</span><span class="o">,</span> <span class="n">defaultValue</span><span class="o">=</span><span class="s">"0"</span><span class="o">)</span> <span class="kt">int</span> <span class="n">age</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"testRequestParam"</span> <span class="o">+</span> <span class="s">" username:"</span> <span class="o">+</span> <span class="n">username</span> <span class="o">+</span> <span class="s">" age:"</span> <span class="o">+</span><span class="n">age</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> <p>　　在index.jsp添加超链接标签</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"springmvc/testRequestParam?username=jackie&amp;age=12"</span><span class="nt">&gt;</span>testRequestParam<span class="nt">&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;</span>
</code></pre></div> <p>　　点击页面上的超链接，就会匹配controller中testRequestParam方法上的RequestMapping的路径。注意在该方法中，我们通过<a href="https://github.com/RequestParam" class="user-mention">@RequestParam</a>这个注解声明了两个变量，用来获取请求中query所带的参数值，一个是username后的值，另一个是age后面的值。</p> <p>　　看到这里，你大概已经明白了<a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>和<a href="https://github.com/RequestParam" class="user-mention">@RequestParam</a>之间的一些区别了吧，对于像“springmvc/testPathVariable/1”这样的请求，我们通过<a href="https://github.com/PathVariable" class="user-mention">@PathVariable</a>来绑定请求的参数；而对于类似“springmvc/testRequestParam?username=jackie&amp;age=12”这样的请求参数是以键值对出现的，我们通过<a href="https://github.com/RequestParam" class="user-mention">@RequestParam</a>来获取到如username或age后的具体请求值。</p> <p>　　与RequestParam有异曲同工用法的还有QueryParam，因其不是spring mvc框架内的注解，这里不再详述。</p> <p>　　对于不同的请求类型和请求方式，spring mvc都有一套针对的解决方案，下面我们来看看当下比较流行的REST风格的请求是啥样的——利用REST风格实现增删改查。</p> <p>　　在SpringMVCTest类中自下而上的实现了查（get）增（post）删（delete）和改（put）的接口</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testRest/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="n">RequestMethod</span><span class="o">.</span><span class="na">PUT</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRestPut</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"id"</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test put:"</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testRest/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="n">RequestMethod</span><span class="o">.</span><span class="na">DELETE</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRestDelete</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"id"</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test delete:"</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testRest"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="n">RequestMethod</span><span class="o">.</span><span class="na">POST</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRest</span><span class="o">(){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test post"</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testRest/{id}"</span><span class="o">,</span> <span class="n">method</span><span class="o">=</span><span class="n">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testRest</span><span class="o">(</span><span class="nd">@PathVariable</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"id"</span><span class="o">)</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"test get:"</span> <span class="o">+</span> <span class="n">id</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> <p>　　那么前台界面如何实现呢，相对应的顺序为</p> <div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"springmvc/testRest/1"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"_method"</span> <span class="na">value=</span><span class="err"> </span><span class="s">"PUT"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"testRestPut"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"springmvc/testRest/1"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"_method"</span> <span class="na">value=</span><span class="s">"DELETE"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"TestRest DELETE"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"springmvc/testRest"</span> <span class="na">method=</span><span class="s">"post"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"testRestPost"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>

<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"springmvc/testRest/1"</span><span class="nt">&gt;</span>testRest<span class="nt">&lt;/a&gt;</span>
</code></pre></div> <p>　　除此之外，我们还需要在配置文件web.xml中添加支持将post转化为delete和put请求的声明</p> <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!-- 配置HiddenHttpMethodFilter：可以把POST请求转为DELETE或POST请求 --&gt;</span>
<span class="nt">&lt;filter&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>HiddenHttpMethodFilter<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;filter-class&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="nt">&lt;/filter-class&gt;</span>
<span class="nt">&lt;/filter&gt;</span>

<span class="nt">&lt;filter-mapping&gt;</span>
    <span class="nt">&lt;filter-name&gt;</span>HiddenHttpMethodFilter<span class="nt">&lt;/filter-name&gt;</span>
    <span class="nt">&lt;url-pattern&gt;</span>/ *<span class="nt">&lt;/url-pattern&gt;</span>
<span class="nt">&lt;/filter-mapping&gt;</span>
</code></pre></div> <p>　　如你所见，这里的改和删都是通过post的方式发送出去的，因为这里不支持put和delete来直接实现删改，而是通过借助post方式，并悄悄的带上一块令牌hidden类型的input标签来告诉后台我在前台发送的实际上是删和改的请求。</p> <p>　　那么这个过程时如何实现的呢，为什么加上</p> <div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"_method"</span> <span class="na">value=</span><span class="s">"DELETE"</span><span class="nt">/&gt;</span>
</code></pre></div> <p>这块令牌，人家后台就要买你的账呢。那我们就来看看后来是如何买账的吧。</p> <p>　　归根到底还是得益于添加在web.xml中的HiddenHttpMethodFilter这个类，在该类中有一个方法doFilterInternal, 通过调试我们可以发现其中端倪，启动tomcat（不能是tomcat8），点击delete操作对应的input标签，进入调试界面，我们可以看到：</p> <p>通过request.getParameter(this.methodParam)在request域中得到this.methodParam(_method)的值，对应于删除delete的操作，在页面上，delete中声明了一个hidden的input，其中name就是“_method”,value就是DELETE，所以这里得到的paramValue的值为“DELETE”继续执行，可以看到通过request.getMethod的取值是否与“POST”相等，显然，这里是相等，因为我们在前台页面中对于delete的操作请求中method声明为post方式再往后就是将获取到的请求方法封装HttpServletRequest中，完成后续的处理。这里我们应该明白了为什么前台要加上那样一个hidden的input了。</p> <p>　　小坑：这里注意启动不能是tomcat8，而只能是比8小的版本，如7或6等，下图展示了用tomcat的报错信息和用7的成功响应：</p> <p>总结下，如何发送put和delete的请求：</p> <div class="highlighter-rouge"><pre class="highlight"><code>在web.xml中配置HiddenHttpMethodFilter
发送post请求
请求中是个隐藏域，name为”\_method”，value为put或delete
</code></pre></div> <p>最后再来说下<a href="https://github.com/CookieValue" class="user-mention">@CookieValue</a>这个注解。</p> <h3 id="3-cookievalue">3. <a href="https://github.com/CookieValue" class="user-mention">@CookieValue</a>
</h3> <p>　　该注解也是差不多的套路，也是一种映射，映射的是一个Cookie值。 　　在我们发送一个请求时，我们可以看到请求中携带了一些cookie值。 　　比如这里的JSESSIONID或者Path等。现在我们就写个方法用于获取Cookie值。 　　在SpringMVCTest中添加</p> <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span><span class="o">=</span><span class="s">"/testCookieValue"</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">String</span> <span class="nf">testCookieValue</span><span class="o">(</span><span class="nd">@CookieValue</span><span class="o">(</span><span class="s">"JSESSIONID"</span><span class="o">)</span> <span class="n">String</span> <span class="n">cookieValue</span><span class="o">){</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"testCookieValue: "</span> <span class="o">+</span> <span class="n">cookieValue</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">SUCCESS</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div> <p>　　index.jsp界面上添加链接</p> <div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"springmvc/testCookieValue"</span><span class="nt">&gt;</span>testCookieValue<span class="nt">&lt;/a&gt;</span>
</code></pre></div> <p>　　这样我们就可以得到类似“testCookieValue: 1410F05C9ADD84E8659C2AC79E8CC666”这样的结果。</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="/tags/#Spring%20MVC" title="Pages tagged Spring MVC" class="tag"><span class="term">Spring MVC</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=/2017/05/16/Spring-MVC%E4%B9%8B%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=/2017/05/16/Spring-MVC%E4%B9%8B%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=/2017/05/16/Spring-MVC%E4%B9%8B%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> </header> <!-- JS --> <script src="/assets/js/jquery-1.12.0.min.js"></script> <script src="/assets/js/jquery.dlmenu.min.js"></script> <script src="/assets/js/jquery.goup.min.js"></script> <script src="/assets/js/jquery.magnific-popup.min.js"></script> <script src="/assets/js/jquery.fitvid.min.js"></script> <script src="/assets/js/scripts.js"></script> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
